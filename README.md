
# Human Rights First DS C

You can find the deployed project at [Human Rights First Police Use-of-Force Dashboard](https://c.humanrightsfirst.dev/).

# Description

The Human Rights First Organization is a US-based nonprofit, nonpartisan organization concerned with international human rights. At its forefront, American ideals, universal values. For nearly 40 years, HRF has Challenged the status quo highlighting the global struggle for human rights and stepping in to demand reform accountability and justice. Given four weeks, create a full functioning Stack web application capable of visually demonstrating valid, current, and the uniquely reported incidence of police use of force within the United States. The information will help users, such as journalists and passersby, formulate their perspectives on current matters. The exemplary user interface immediately captures attention with the clusters of incidence shown by Geotagging. Investigate A creative methodology to eliminate excessive duplicates of data that maintains optimal storage capacity.

# Contributors

| [Jason Long](https://github.com/jlong5795) | [Dondr√© Jordan](https://github.com/dondreojordan/) | [Santiago Berniz](https://github.com/sberniz/) | [Mariapaula Trujillo](https://github.com/mtruj013) |
| :---: | :---: | :---: | :---: | 
| [<img src="https://avatars3.githubusercontent.com/u/57104675?s=460&u=e7620554469deb924ac378097155cd45590cbdf9&v=4" width = "200" />](https://github.com/jlong5795) | [<img src="https://avatars2.githubusercontent.com/u/66181909?s=460&u=6e8dd07a4ee2d81ea91ff7f7bf92397e25348b43&v=4" width = "200" />](https://github.com/dondreojordan/) | [<img src="https://avatars3.githubusercontent.com/u/6207914?s=460&u=8bfaa068f7942170423371ff10e8f04f09f41e81&v=4" width = "200" />](https://github.com/sberniz/) | [<img src="https://avatars1.githubusercontent.com/u/17607612?s=460&u=1ade9305977ae41910de06971d36c7ebc339ef48&v=4" width = "200" />](https://github.com/mtruj013) |
| TPL | Data Scientist | Data Scientist | Web Developer | Web Developer | 
|[<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/jlong5795) | [<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/dondreojordan/) | [<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/sberniz/) | [<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/mtruj013) |
| [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/jasonlong1231/) | [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/dondreojordan/) | [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/santiago-berniz/) | [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/mariapaula-trujillo/) |          

| [Nic Lehman](https://github.com/npm-nic) | [Khwanchai-Phaipha](https://github.com/khwanchaiwill) | [Idong Essien](https://github.com/idongessien) |
| :---: | :---: | :---: |  
| [<img src="https://avatars2.githubusercontent.com/u/53277092?s=460&u=360e47e03b8350f7b155812456fa1c23bdcf6d97&v=4" width = "200" />](https://github.com/npm-nic) | [<img src="https://avatars0.githubusercontent.com/u/64489050?s=460&u=7ba41ef7e577172978574c7b11c77418b6ea60f3&v=4" width = "200" />](https://github.com/khwanchaiwill) | [<img src="https://avatars2.githubusercontent.com/u/22062405?s=460&u=8835b709a7cec99ccbb2c8620adc4ddc3a21339b&v=4" width = "200" />](https://github.com/idongessien) | 
| Web Developer/Back End | Web Developer | Web Developer | 
|[<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/npm-nic) | [<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/khwanchaiwill) | [<img src="https://github.com/favicon.ico" width="15"> ](https://github.com/idongessien) | 
| [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/niclehman/) | [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/khwanchai-phaipha-266885a7/) | [ <img src="https://static.licdn.com/sc/h/al2o9zrvru7aqj8e1x2rzsrca" width="15"> ](https://www.linkedin.com/in/idongessien/) |              

<br>          

<br>
<br>

![fastapi](https://img.shields.io/badge/fastapi-0.60.1-blue)
![pandas](https://img.shields.io/badge/pandas-1.1.0-blueviolet)
![plotly](https://img.shields.io/badge/plotly-4.9.0-brightgreen)
![uvicorn](https://img.shields.io/badge/uvicorn-0.11.8-ff69b4)
![python-dotenv](https://img.shields.io/badge/python--dotenv-0.14.0-green)
![beautifulsoup4](https://img.shields.io/badge/beautifulsoup4-4.9.1-orange)
![scikit-learn](https://img.shields.io/badge/scikit--learn-0.23.2-yellow)
![spacy](https://img.shields.io/badge/spacy-2.3.2-lightgrey)
![newspaper3k](https://img.shields.io/badge/newspaper3k-0.2.8-9cf)
![fastapi-utils](https://img.shields.io/badge/fastapi--utils-0.2.1-informational)
![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-11.3.20-yellowgreen)


# Deployed Product
[Front End Dashboard](https://c.humanrightsfirst.dev/) |
[Data Science API](https://c-ds-labs28.humanrightsfirst.dev/) |
[Back End API](===========) |

# Linked Repositories
[Human Rights First Back End](https://github.com/Lambda-School-Labs/human-rights-first-be-c) |
[Human Rights First Data Science](https://github.com/Lambda-School-Labs/human-rights-first-ds-c) |
[Human Rights First Front end](https://github.com/Lambda-School-Labs/human-rights-first-fe-c) |
[Gitflow](https://github.com/Lambda-School-Labs/labs28-gitflow)

# Getting Started

### User Flows

[Trello Board](https://trello.com/b/o5cudR3w/team-c-labs28)

Our team is developing an interactive map that identifies potential instances of police use of force across the United States of America for Human Rights First, an independent advocacy and action organization.

We're pulling data from similiar APIs(All locations V2 - https://raw.githubusercontent.com/2020PB/police-brutality/data_build/all-locations-v2.json, 846- https://api.846policebrutality.com/api/incidents) and from Twitter and Reddit. We want to identify aggregate these instances.

### Key Features

- User can browse incident map
- User can view specific instances with original source links
- User can view map with various filters

### Environment Variables

In order for the app to function correctly, the user must set up their own environment variables. There should be a .env file containing the following:

    *  DBURLS  - Postgres database credentials
    *  APIURL - APIURL is responsible for updating the database


### Content Licenses

| Image Filename | Source / Creator | License                                                                      |
| -------------- | ---------------- | ---------------------------------------------------------------------------- |
| Nopic.yet      | INSERT NAME      | [MIT](input githandle here)                             |

### Installation Instructions

We used Docker for ease of use when dealing with environmental dependancies 

#### Scripts

    Get AWS credentials
    
    Get your AWS access keys
    
    Install AWS Command Line Interface
    
    * aws configure -> configures AWS CLI
    * pip install pipx -> installs pipx
    * pipx install awsebcli -> installs AWS Elastic BeanStalk CLI
    
    Follow AWS EB docs: Use Docker to build the image locally, test it locally, then push it to Docker Hub
    
    * docker build -f project/Dockerfile -t YOUR-DOCKER-HUB-ID/YOUR-IMAGE-NAME ./project 
    * docker login 
    * docker push YOUR-DOCKER-HUB-ID/YOUR-IMAGE-NAME 
    
    Edit the image name in Dockerrun.aws.json then replace YOUR-DOCKER-HUB-ID/YOUR-IMAGE-NAME with your values
    
    Then use the EB CLI:
    
    * git add --all 
    * git commit -m "Your commit message" 
    * eb init -p docker YOUR-APP-NAME --region us-east-1 
    * eb create YOUR-APP-NAME 
    * eb open 
    
    Then use AWS Route 53 to set up a domain name with HTTPS for your DS API
    
    Redeploy:
    
    * git commit ... 
    * docker build ... 
    * docker push ... 
    * eb deploy 
    * eb open 

# Tech Stack

### Data Science API built using:

- Python
- Docker
- FastAPI
- AWS Elastic Beanstalk
- PostgreSQL

### Why we made our tech stack decisions:

- Wanted to gain insight to AWS
- Docker makes environments easier
- FastAPI has been gaining traction over Flask
- SQL queries are better structured 

### Libraries used:

- Pandas
- Seaborn
- spacy
- nltk
- PRAW
- Plotly
- spacy
- newspaper3k
- psycopg2

# User Flow

### Data Science API

We are sending json objects to the backend with information about instances of police use of force. This information includes location data (city, state, and latitude and longitude) and relevant details about the incident, like the type of force that was used.

# Architecture
![Architecture](https://raw.githubusercontent.com/Lambda-School-Labs/human-rights-first-ds-c/main/flowchart%20draft.png)

Get and clean data from source(s). Insert processed data into the database. Data Science API recieve GET request from back end API. Send the data to the back end API for new information to be added to web database. The front end requests data from the back end and that data is serve to the map component and the dashboard. If use requests to sign-up/login, user is sent to the OKTA Identity Provider for authentification.   


# Updates To Repo in Labs 28
* https://c-ds-labs28.humanrightsfirst.dev/
* https://hrf-c-api.herokuapp.com/api-docs/

# End Points
/getdata: Shows all the data in the database.

/getdata?date_added=yyyy-mm-dd: Optional parameter, to filter data from the given date(yyyy-mm-dd) and onward. For example, /getdata?date_added=2020-11-19.

# Issues
* A system neeeds to be implemented for input validations and testing. 
* The automatic 24-hour update needs to be activated and tested for new data.

**If you are having an issue with the existing project code, please submit a bug report under the following guidelines:**

- Check first to see if your issue has already been reported.
- Check to see if the issue has recently been fixed by attempting to reproduce the issue using the latest master branch in the repository.
- Create a live example of the problem.
- Submit a detailed bug report including your environment & browser, steps to reproduce the issue, actual and expected outcomes, where you believe the issue is originating from, and any potential solutions you have considered.

# Future Features
* A filter on the dashboard to distinguish public approval of police use of force using NLP to create a sentiment analysis.
* Add a predict route to receive input data from a user to classify a type of use of force, as defined by the [National Institute of Justice: Police Use-of-Force Continuum](https://nij.ojp.gov/topics/articles/use-force-continuum). 
*

# Support
Santiago and Dondre' on slack. 

### Contributing

When contributing to this repository, please first discuss the change you wish to make via issue, email, or any other method with the owners of this repository before making a change.

Please note we have a [code of conduct](./CODE_OF_CONDUCT.md). Please follow it in all your interactions with the project.

Describe what you have changed in this repo as a team
Provide examples and descriptions of components, how props are handled, where to find these changes, database tables, models, etc.

### Feature Requests

We would love to hear from you about new features which would improve this app and further the aims of our project. Please provide as much detail and information as possible to show us why you think your new feature should be implemented.

### Pull Requests

If you have developed a patch, bug fix, or new feature that would improve this app, please submit a pull request. It is best to communicate your ideas with the developers first before investing a great deal of time into a pull request to ensure that it will mesh smoothly with the project.

Remember that this project is licensed under the MIT license, and by submitting a pull request, you agree that your work will be, too.

#### Pull Request Guidelines

- Ensure any install or build dependencies are removed before the end of the layer when doing a build.
- Update the README.md with details of changes to the interface, including new plist variables, exposed ports, useful file locations and container parameters.
- Ensure that your code conforms to our existing code conventions and test coverage.
- Include the relevant issue number, if applicable.
- You may merge the Pull Request in once you have the sign-off of two other developers, or if you do not have permission to do that, you may request the second reviewer to merge it for you.

### Attribution

These contribution guidelines have been adapted from [this good-Contributing.md-template](https://gist.github.com/PurpleBooth/b24679402957c63ec426).

### Documentation

See [Backend Documentation](https://github.com/Lambda-School-Labs/Labs27-C-HRF-BE/blob/main/README.md) for details on the backend of our project.
